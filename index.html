<html>

<head>
    <title>Salary Calculator by Pabitra</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel="icon" type="image/x-icon" href="images/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-sacle=1.0">
    <meta charset="UTF-8">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Outfit:wght@200;300;400;500;600;700;800&family=Roboto:wght@100;300;400&display=swap');

        :root {
            --primary-color: #f9532d;
            --primary-dark: #1F252E;
            --primary-black: #000000;
            --primary-light: #ffffff
        }

        * {
            margin: 0;
            padding: 0;
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Outfit', sans-serif;
            background: #ffffff;
            height: 100vh;
            color: var(--primary-black);
        }

        .main_container {
            padding-bottom: 5px;
        }

        .child {
            margin: 10px;
            padding: 5px 15px 5px 15px;
            vertical-align: top;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            box-sizing: border-box;
        }

        .child-note {
            padding-left: 10px;
            padding-right: 10px;
            vertical-align: top;
            box-sizing: border-box;
            font-size: 10px;
            text-align: center;
        }

        .overview {
            margin: 10px;
            padding: 15px 15px 15px 15px;
            border-radius: 10px 10px 0px 0px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            box-sizing: border-box;
            text-align: center;
            display: block;
            background-color: #339fcd;
            color: #ffffff;
        }

        .button {
            box-shadow: none;
        }

        div.section-heading {
            padding: 5px;
        }


        table.section-heading {
            margin-top: 10px;
            margin-bottom: 10px;
        }

        table.section-heading tr {
            text-align: center;
            font-weight: 700;
        }

        table.section-heading-button {
            margin: 0px;
        }

        div.button {
            padding: 0px;
        }

        @media (min-width: 1000px) {
            .mobile-only {
                display: none;
            }
        }

        @media (max-width: 1000px) {
            .desktop-only {
                display: none;
            }
        }

        .centered-content {
            display: flex;
            justify-content: center;
            align-items: flex-start;
            height: 100%;
        }

        table {
            font-weight: 500;
            width: 100%;
            max-width: none;
            border-collapse: collapse;
            table-layout: fixed;
            border: none;
            margin-top: 20px;
            margin-bottom: 20px;
        }

        table.heading tr {
            border-bottom: 1px solid grey;
        }

        table.heading th,
        table.heading td,
        table.total th {
            text-align: left;
        }

        table.dataTable th {
            border-bottom: 2px solid rgb(179, 179, 179);
        }

        table.dataTable th,
        table.total th {
            text-align: left;
            align-content: center;
            padding-top: 10px;
            padding-bottom: 10px;
        }

        table.dataTable td:nth-child(2),
        table.dataTable td:nth-child(3),
        table.dataTable th:nth-child(2),
        table.dataTable th:nth-child(3),
        table.total td:nth-child(2),
        table.total th:nth-child(2),
        table.total td:nth-child(3),
        table.total th:nth-child(3) {
            padding-left: 10px;
            width: 30%;
        }

        th {
            padding-top: 5px;
            padding-bottom: 10px;
        }

        td {
            padding-top: 5px;
            padding-bottom: 5px;
        }

        .divWrapper {
            border-bottom: 1px solid rgb(228, 228, 228);
            padding: 0 2px;
            max-width: 100%;
            height: 30px;
            display: flex;
            align-items: center;
        }

        .totalwrapper {
            border-bottom: none;
        }

        .container {
            /* width: 5%; */
            display: flex;
            align-items: center;
        }

        .pWrapper {
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            /* margin-right: 5px; */
        }

        input {
            font-family: "proxima-nova", sans-serif;
            font-size: 16px;
            height: 100%;
            width: 100%;
            flex: 1;
            text-align: left;
            box-sizing: border-box;
            background: none;
            border: none;
            outline: none;
            box-shadow: none;
            margin-left: 3px;
        }

        input.total-sal-annual,
        input.total-sal-monthly,
        input.payslip-total {
            font-weight: 700;
        }

        p {
            margin: 0;
            text-align: center;
            max-height: 30px;
        }

        a {
            text-decoration: none;
        }

        .calculate-button {
            font-family: "proxima-nova", sans-serif;
            color: #676767;
            font-size: 16px;
            background-color: #339fcd;
            color: white;
            border: none;
            border-radius: 10px;
            padding: 10px 10px;
            cursor: pointer;
            width: 100%;
            height: 50px;
        }

        .calculate-button:hover {
            background-color: #339fcd;
        }

        .radio-wrapper {
            display: flex;
            flex-direction: row;
            align-items: center;
        }

        .radio-wrapper div {
            margin-right: 5px;
        }

        table.calculations td,
        table.calculations th {
            text-align: left;
            word-wrap: break-word;
        }

        table.calculations th {
            border-bottom: 2px solid rgb(179, 179, 179);
        }

        table.calculations tr:nth-child(2) td:first-child,
        table.calculations tr:nth-child(5) td:first-child {
            font-weight: 700;
        }

        table.calculations tr:nth-child(5) td,
        table.calculations tr:nth-child(5) th {
            padding-top: 20px;
        }

        table.calculations th:last-child,
        table.calculations td:last-child {
            padding-left: 10px;
            width: 30%;
        }

        table.payslip tr:first-child,
        table.payslip tr:nth-child(5) td,
        table.payslip tr:nth-child(8) td {
            text-align: left;
            padding-bottom: 10px;
            border-bottom: 2px solid rgb(179, 179, 179);
        }

        table.payslip tr:first-child,
        table.payslip tr:last-child {
            font-weight: 700;
        }

        table.payslip td:first-child {
            width: 70%;
        }
    </style>
</head>

<body>
    <div class="main_container">
        <div class="overview">
            Optimize Your Tax Savings. Compare Old vs New Tax Regime, Analyze Investments and Deductions, and Choose
            the Best Option for Maximum Tax Benefits.
        </div>
        <div class="child section-heading">
            <table class="dataTable section-heading">
                <tr>
                    <td colspan="2">Salary Breakup</td>
                </tr>
            </table>
        </div>
        <div class="child">
            <table class="dataTable">
                <thead>
                    <tr>
                        <th>Salary Component</th>
                        <th>Annual</th>
                        <th>Monthly</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Basic</td>
                        <td>
                            <div class="divWrapper">
                                <div class="container">
                                    <div class="pWrapper">
                                        <p>&#8377;</p>
                                    </div>
                                </div>
                                <input type="text" value="" placeholder="0" class="basic-annual" id="numeric-input"
                                    pattern="[0-9]*"
                                    oninput="validateNumericInput(this); updateBasicValues(this.className);">
                            </div>
                        </td>
                        <td>
                            <div class="divWrapper">
                                <div class="container">
                                    <div class="pWrapper">
                                        <p>&#8377;</p>
                                    </div>
                                </div>
                                <input type="text" value="" placeholder="0" class="basic-monthly" id="numeric-input"
                                    pattern="[0-9]*"
                                    oninput="validateNumericInput(this); updateBasicValues(this.className);">
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>HRA</td>
                        <td>
                            <div class="divWrapper">
                                <div class="container">
                                    <div class="pWrapper">
                                        <p>&#8377;</p>
                                    </div>
                                </div>
                                <input type="text" value="" placeholder="0" class="hra-annual" id="numeric-input"
                                    pattern="[0-9]*"
                                    oninput="validateNumericInput(this); updateBasicValues(this.className);">
                            </div>
                        </td>
                        <td>
                            <div class="divWrapper">
                                <div class="container">
                                    <div class="pWrapper">
                                        <p>&#8377;</p>
                                    </div>
                                </div>
                                <input type="text" value="" placeholder="0" class="hra-monthly" id="numeric-input"
                                    pattern="[0-9]*"
                                    oninput="validateNumericInput(this); updateBasicValues(this.className);">
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>Other Allowances</td>
                        <td>
                            <div class="divWrapper">
                                <div class="container">
                                    <div class="pWrapper">
                                        <p>&#8377;</p>
                                    </div>
                                </div>
                                <input type="text" value="" placeholder="0" class="other-allowances-1-annual"
                                    id="numeric-input" pattern="[0-9]*"
                                    oninput="validateNumericInput(this); updateBasicValues(this.className);">
                            </div>
                        </td>
                        <td>
                            <div class="divWrapper">
                                <div class="container">
                                    <div class="pWrapper">
                                        <p>&#8377;</p>
                                    </div>
                                </div>
                                <input type="text" value="" placeholder="0" class="other-allowances-1-monthly"
                                    id="numeric-input" pattern="[0-9]*"
                                    oninput="validateNumericInput(this); updateBasicValues(this.className);">
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>Other Allowances</td>
                        <td>
                            <div class="divWrapper">
                                <div class="container">
                                    <div class="pWrapper">
                                        <p>&#8377;</p>
                                    </div>
                                </div>
                                <input type="text" value="" placeholder="0" class="other-allowances-2-annual"
                                    id="numeric-input" pattern="[0-9]*"
                                    oninput="validateNumericInput(this); updateBasicValues(this.className);">
                            </div>
                        </td>
                        <td>
                            <div class="divWrapper">
                                <div class="container">
                                    <div class="pWrapper">
                                        <p>&#8377;</p>
                                    </div>
                                </div>
                                <input type="text" value="" placeholder="0" class="other-allowances-2-monthly"
                                    id="numeric-input" pattern="[0-9]*"
                                    oninput="validateNumericInput(this); updateBasicValues(this.className);">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="total">
                <tr style="border-top: 1px solid grey;">
                    <th>Total CTC</th>
                    <th>
                        <div class="divWrapper totalwrapper">
                            <div class="container">
                                <div class="pWrapper">
                                    <p>&#8377;</p>
                                </div>
                            </div>
                            <input type="text" value="" placeholder="0" class="total-sal-annual" id="numeric-input"
                                pattern="[0-9]*" disabled>
                        </div>
                    </th>
                    <th>
                        <div class="divWrapper totalwrapper">
                            <div class="container">
                                <div class="pWrapper">
                                    <p>&#8377;</p>
                                </div>
                            </div>
                            <input type="text" value="" placeholder="0" class="total-sal-monthly" id="numeric-input"
                                pattern="[0-9]*" disabled>
                        </div>
                    </th>
                </tr>
            </table>
        </div>
        <div class="child section-heading">
            <table class="dataTable section-heading">
                <tr>
                    <td colspan="2">Deduction Details</td>
                </tr>
            </table>
        </div>
        <div class="child">
            <table class="dataTable deductions">
                <tr>
                    <td>Professional Tax</td>
                    <td>
                        <div class="divWrapper">
                            <div class="container">
                                <div class="pWrapper">
                                    <p>&#8377;</p>
                                </div>
                            </div>
                            <input type="text" value="" placeholder="0" class="professional-tax" id="numeric-input"
                                pattern="[0-9]*" oninput="validateNumericInput(this);">
                        </div>
                    </td>
                </tr>
                <tr>
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <th colspan="2">80C (Maximum Deduction is 1.5 Lakhs)</th>
                </tr>
                <tr>
                    <td>EPF (Employee PF)</td>
                    <td>
                        <div class="divWrapper">
                            <div class="container">
                                <div class="pWrapper">
                                    <p>&#8377;</p>
                                </div>
                            </div>
                            <input type="text" value="" placeholder="0" class="epf" id="numeric-input" pattern="[0-9]*"
                                oninput="validateNumericInput(this);">
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>PPF</td>
                    <td>
                        <div class="divWrapper">
                            <div class="container">
                                <div class="pWrapper">
                                    <p>&#8377;</p>
                                </div>
                            </div>
                            <input type="text" value="" placeholder="0" class="ppf" id="numeric-input" pattern="[0-9]*"
                                oninput="validateNumericInput(this);">
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>NPS</td>
                    <td>
                        <div class="divWrapper">
                            <div class="container">
                                <div class="pWrapper">
                                    <p>&#8377;</p>
                                </div>
                            </div>
                            <input type="text" value="" placeholder="0" class="nps" id="numeric-input" pattern="[0-9]*"
                                oninput="validateNumericInput(this);">
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>ELSS</td>
                    <td>
                        <div class="divWrapper">
                            <div class="container">
                                <div class="pWrapper">
                                    <p>&#8377;</p>
                                </div>
                            </div>
                            <input type="text" value="" placeholder="0" class="elss" id="numeric-input" pattern="[0-9]*"
                                oninput="validateNumericInput(this);">
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>LIC or Life Insurance Premium</td>
                    <td>
                        <div class="divWrapper">
                            <div class="container">
                                <div class="pWrapper">
                                    <p>&#8377;</p>
                                </div>
                            </div>
                            <input type="text" value="" placeholder="0" class="life-insurance-premium"
                                id="numeric-input" pattern="[0-9]*" oninput="validateNumericInput(this);">
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>Home Loan Principal Payment</td>
                    <td>
                        <div class="divWrapper">
                            <div class="container">
                                <div class="pWrapper">
                                    <p>&#8377;</p>
                                </div>
                            </div>
                            <input type="text" value="" placeholder="0" class="home-loan-principal" id="numeric-input"
                                pattern="[0-9]*" oninput="validateNumericInput(this);">
                        </div>
                    </td>
                </tr>
                <tr>
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <th colspan="2">Deductions for Home Loan Interest Payment</th>
                </tr>
                <tr>
                    <td>Section 24<br>
                        <span style="font-size: small;">
                            (Maximum Deduction is 2 Lakhs)
                        </span>
                    </td>
                    <td>
                        <div class="divWrapper">
                            <div class="container">
                                <div class="pWrapper">
                                    <p>&#8377;</p>
                                </div>
                            </div>
                            <input type="text" value="" placeholder="0" class="home-loan-interest" id="numeric-input"
                                pattern="[0-9]*" oninput="validateNumericInput(this);">
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>80EEA<br>
                        <span style="font-size: small;">
                            (Maximum Deduction is 1.5 Lakhs)
                        </span><br>
                        <span style="font-size: x-small;">Conditions: Stamp duty value of the house must be 45 lakhs or
                            less. Loan must be taken between Apr 2019 to Mar 2022 and should NOT own any other
                            residensial property at the time of loan sanction. Only one of 80EE or 80EEA can be claimed;
                            not both.
                        </span>
                    </td>
                    <td>
                        <div class="divWrapper">
                            <div class="container">
                                <div class="pWrapper">
                                    <p>&#8377;</p>
                                </div>
                            </div>
                            <input type="text" value="" placeholder="0" class="home-loan-interest-additional"
                                id="numeric-input" pattern="[0-9]*" oninput="validateNumericInput(this);">
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>80EE<br>
                        <span style="font-size: small;">
                            (Maximum Deduction is 50K)
                        </span><br>
                        <span style="font-size: x-small;">Conditions: House value must be 50 lakhs or less. Loan value
                            must be 35 lakhs or less. Loan must be taken between Apr 2016 to Mar 2017 and should NOT own
                            any other residensial property at the time of loan sanction. Only one of 80EE or 80EEA can
                            be claimed; not both.
                        </span>
                    </td>
                    <td>
                        <div class="divWrapper">
                            <div class="container">
                                <div class="pWrapper">
                                    <p>&#8377;</p>
                                </div>
                            </div>
                            <input type="text" value="" placeholder="0" class="home-loan-interest-additionall"
                                id="numeric-input" pattern="[0-9]*" oninput="validateNumericInput(this);">
                        </div>
                    </td>
                </tr>
                <tr>
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <th colspan="2">House Rent Allowance</th>
                </tr>
                <tr>
                    <td>Rent per Month</td>
                    <td>
                        <div class="divWrapper">
                            <div class="container">
                                <div class="pWrapper">
                                    <p>&#8377;</p>
                                </div>
                            </div>
                            <input type="text" value="" placeholder="0" class="rent" id="numeric-input" pattern="[0-9]*"
                                oninput="validateNumericInput(this);">
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>Are you a resident of Delhi, Mumbai, Kolkata or Chennai?</td>
                    <td>
                        <div class="radio-wrapper">
                            <div>Yes</div>
                            <div><input type="radio" name="metro-city" value="yes"></div>
                            <div></div>
                            <div>No</div>
                            <div><input type="radio" name="metro-city" value="no" checked></div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td style="border-bottom: none;">HRA Exemption Amount<br>
                        <span style="font-size: x-small;">
                            The lowest of the following three amounts is eligible for tax exemption:<br>
                            • Actual HRA received<br>
                            • Rent paid minus 10% of Basic Salary<br>
                            • 50% (for metro city) or 40% (for non-metro city) of the Basic Salary.
                        </span>
                    </td>
                    <td style="border-bottom: none;">
                        <div class="divWrapper totalwrapper">
                            <div class="container">
                                <div class="pWrapper">
                                    <p>&#8377;</p>
                                </div>
                            </div>
                            <input type="text" value="" placeholder="0" class="hra-exemption" id="numeric-input"
                                pattern="[0-9]*" disabled>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <th colspan="2">80D (Health Insurance Premium)</th>
                </tr>
                <tr>
                    <td>Self & Family<br>
                        <span style="font-size: small;">
                            (Maximum Deduction is 25K)
                        </span>
                    </td>
                    <td>
                        <div class="divWrapper">
                            <div class="container">
                                <div class="pWrapper">
                                    <p>&#8377;</p>
                                </div>
                            </div>
                            <input type="text" value="" placeholder="0" class="health-prem-self" id="numeric-input"
                                pattern="[0-9]*" oninput="validateNumericInput(this);">
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>Parents<br>
                        <span style="font-size: small;">
                            (Maximum Deduction is 25K)
                        </span>
                    </td>
                    <td>
                        <div class="divWrapper">
                            <div class="container">
                                <div class="pWrapper">
                                    <p>&#8377;</p>
                                </div>
                            </div>
                            <input type="text" value="" placeholder="0" class="health-prem-parents" id="numeric-input"
                                pattern="[0-9]*" oninput="validateNumericInput(this);">
                        </div>
                    </td>
                </tr>
                <tr>
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <th colspan="2">80E</th>
                </tr>
                <tr>
                    <td>Interest Paid of Education Loan</td>
                    <td>
                        <div class="divWrapper">
                            <div class="container">
                                <div class="pWrapper">
                                    <p>&#8377;</p>
                                </div>
                            </div>
                            <input type="text" value="" placeholder="0" class="education-loan" id="numeric-input"
                                pattern="[0-9]*" oninput="validateNumericInput(this);">
                        </div>
                    </td>
                </tr>
                <tr>
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <th colspan="2">NPS - 80CCD(1B) & 80CCD(2)</th>
                </tr>
                <tr>
                    <td>Employee Contribution to NPS<br>
                        <span style="font-size: small;">
                            (Maximum Deduction is 50K)
                        </span>
                    </td>
                    <td>
                        <div class="divWrapper">
                            <div class="container">
                                <div class="pWrapper">
                                    <p>&#8377;</p>
                                </div>
                            </div>
                            <input type="text" value="" placeholder="0" class="nps-self" id="numeric-input"
                                pattern="[0-9]*" oninput="validateNumericInput(this);">
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>Employer Contribution to NPS<br>
                        <span style="font-size: x-small;">
                            (Maximum Deduction is 10% of Basic + DA for Private Employee and 14% of Basic + DA for
                            Government Employee)</span>
                    </td>
                    <td>
                        <div class="divWrapper">
                            <div class="container">
                                <div class="pWrapper">
                                    <p>&#8377;</p>
                                </div>
                            </div>
                            <input type="text" value="" placeholder="0" class="nps-employer" id="numeric-input"
                                pattern="[0-9]*" oninput="validateNumericInput(this);">
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>Are you a Central/State Government Employee?</td>
                    <td>
                        <div class="radio-wrapper">
                            <div>Yes</div>
                            <div><input type="radio" name="govt-employee" value="yes"></div>
                            <div></div>
                            <div>No</div>
                            <div><input type="radio" name="govt-employee" value="no" checked></div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <th colspan="2">80G</th>
                </tr>
                <tr>
                    <td>Donations to Charity</td>
                    <td>
                        <div class="divWrapper">
                            <div class="container">
                                <div class="pWrapper">
                                    <p>&#8377;</p>
                                </div>
                            </div>
                            <input type="text" value="" placeholder="0" class="donations" id="numeric-input"
                                pattern="[0-9]*" oninput="validateNumericInput(this);">
                        </div>
                    </td>
                </tr>
            </table>
        </div>
        <div class="child section-heading button">
            <table class="dataTable section-heading-button">
                <tr>
                    <td colspan="2">
                        <button class="calculate-button">Calculate Tax & Take Home Salary</button>
                    </td>
                </tr>
            </table>
        </div>
        <div class="child hiddenDiv" style="display: none;">
            <table class="calculations">
                <tr class="mobile-only">
                    <th>TDS</th>
                    <th></th>
                    <th></th>
                </tr>
                <tr>
                    <th class="desktop-only"></th>
                    <th>Regime</th>
                    <th>Annual</th>
                    <th>Monthly</th>
                </tr>
                <tr>
                    <td rowspan="2" class="desktop-only">TDS</td>
                    <td>Old</td>
                    <td>
                        <div class="divWrapper totalwrapper">
                            <div class="container">
                                <div class="pWrapper">
                                    <p>&#8377;</p>
                                </div>
                            </div>
                            <input type="text" value="" placeholder="0" class="tax-old-regime-annual" id="numeric-input"
                                pattern="[0-9]*" disabled>
                        </div>
                    </td>
                    <td>
                        <div class="divWrapper totalwrapper">
                            <div class="container">
                                <div class="pWrapper">
                                    <p>&#8377;</p>
                                </div>
                            </div>
                            <input type="text" value="" placeholder="0" class="tax-old-regime-monthly"
                                id="numeric-input" pattern="[0-9]*" disabled>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>New</td>
                    <td>
                        <div class="divWrapper totalwrapper">
                            <div class="container">
                                <div class="pWrapper">
                                    <p>&#8377;</p>
                                </div>
                            </div>
                            <input type="text" value="" placeholder="0" class="tax-new-regime-annual" id="numeric-input"
                                pattern="[0-9]*" disabled>
                        </div>
                    </td>
                    <td>
                        <div class="divWrapper totalwrapper">
                            <div class="container">
                                <div class="pWrapper">
                                    <p>&#8377;</p>
                                </div>
                            </div>
                            <input type="text" value="" placeholder="0" class="tax-new-regime-monthly"
                                id="numeric-input" pattern="[0-9]*" disabled>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    </td>
                <tr class="mobile-only">
                    <th>Take Home</th>
                    <th></th>
                    <th></th>
                </tr>
                <tr>
                    <th class="desktop-only"></th>
                    <th>Regime</th>
                    <th>Annual</th>
                    <th>Monthly</th>
                </tr>
                <tr>
                    <td rowspan="2" class="desktop-only">Take Home</td>
                    <td>Old</td>
                    <td>
                        <div class="divWrapper totalwrapper">
                            <div class="container">
                                <div class="pWrapper">
                                    <p>&#8377;</p>
                                </div>
                            </div>
                            <input type="text" value="" placeholder="0" class="take-home-old-regime-annual"
                                id="numeric-input" pattern="[0-9]*" disabled>
                        </div>
                    </td>
                    <td>
                        <div class="divWrapper totalwrapper">
                            <div class="container">
                                <div class="pWrapper">
                                    <p>&#8377;</p>
                                </div>
                            </div>
                            <input type="text" value="" placeholder="0" class="take-home-old-regime-monthly"
                                id="numeric-input" pattern="[0-9]*" disabled>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>New</td>
                    <td>
                        <div class="divWrapper totalwrapper">
                            <div class="container">
                                <div class="pWrapper">
                                    <p>&#8377;</p>
                                </div>
                            </div>
                            <input type="text" value="" placeholder="0" class="take-home-new-regime-annual"
                                id="numeric-input" pattern="[0-9]*" disabled>
                        </div>
                    </td>
                    <td>
                        <div class="divWrapper totalwrapper">
                            <div class="container">
                                <div class="pWrapper">
                                    <p>&#8377;</p>
                                </div>
                            </div>
                            <input type="text" value="" placeholder="0" class="take-home-new-regime-monthly"
                                id="numeric-input" pattern="[0-9]*" disabled>
                        </div>
                    </td>
                </tr>
            </table>
        </div>
        <div class="child hiddenDiv suggestion"
            style="padding-top: 10px; padding-bottom: 10px; text-align: center; display: none;">
        </div>
        <div class="child hiddenDiv" style="display: none;">
            <table class="payslip">
                <tr>
                    <td class="payslip-header"></td>
                </tr>
                <tr>
                    <td>Basic:</td>
                    <td>
                        <div class="divWrapper totalwrapper">
                            <div class="container">
                                <div class="pWrapper">
                                    <p>&#8377;</p>
                                </div>
                            </div>
                            <input type="text" value="" placeholder="0" class="payslip-basic" id="numeric-input"
                                pattern="[0-9]*" disabled>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>HRA:</td>
                    <td>
                        <div class="divWrapper totalwrapper">
                            <div class="container">
                                <div class="pWrapper">
                                    <p>&#8377;</p>
                                </div>
                            </div>
                            <input type="text" value="" placeholder="0" class="payslip-hra" id="numeric-input"
                                pattern="[0-9]*" disabled>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>Other Allowances:</td>
                    <td>
                        <div class="divWrapper totalwrapper">
                            <div class="container">
                                <div class="pWrapper">
                                    <p>&#8377;</p>
                                </div>
                            </div>
                            <input type="text" value="" placeholder="0" class="payslip-other-1" id="numeric-input"
                                pattern="[0-9]*" disabled>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>Other Allowances:</td>
                    <td>
                        <div class="divWrapper totalwrapper">
                            <div class="container">
                                <div class="pWrapper">
                                    <p>&#8377;</p>
                                </div>
                            </div>
                            <input type="text" value="" placeholder="0" class="payslip-other-2" id="numeric-input"
                                pattern="[0-9]*" disabled>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>PF:</td>
                    <td>
                        <div class="divWrapper totalwrapper">
                            <div class="container">
                                <div class="pWrapper">
                                    <p>&#8377;</p>
                                </div>
                            </div>
                            <input type="text" value="" placeholder="0" class="payslip-pf" id="numeric-input"
                                pattern="[0-9]*" disabled>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>Professional Tax:</td>
                    <td>
                        <div class="divWrapper totalwrapper">
                            <div class="container">
                                <div class="pWrapper">
                                    <p>&#8377;</p>
                                </div>
                            </div>
                            <input type="text" value="" placeholder="0" class="payslip-pro-tax" id="numeric-input"
                                pattern="[0-9]*" disabled>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>TDS:</td>
                    <td>
                        <div class="divWrapper totalwrapper">
                            <div class="container">
                                <div class="pWrapper">
                                    <p>&#8377;</p>
                                </div>
                            </div>
                            <input type="text" value="" placeholder="0" class="payslip-tds" id="numeric-input"
                                pattern="[0-9]*" disabled>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>Take Home Salary:</td>
                    <td>
                        <div class="divWrapper totalwrapper">
                            <div class="container">
                                <div class="pWrapper">
                                    <p>&#8377;</p>
                                </div>
                            </div>
                            <input type="text" value="" placeholder="0" class="payslip-total" id="numeric-input"
                                pattern="[0-9]*" disabled>
                        </div>
                    </td>
                </tr>
            </table>
        </div>
    </div>

    <script>
        function createPayslip(basicMonthly, hraMonthly, otherOneMonthly, otherTwoMonthly, pfMonthly, proTaxMonthly, tdsMonthly, takeHome) {
            var months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
            var currentDate = new Date();
            var currentMonth = months[currentDate.getMonth() + 1];
            var currentYear = currentDate.getFullYear();
            var header = 'Payslip for ' + currentMonth + ' ' + currentYear;
            document.querySelector('.payslip-header').innerHTML = header;

            document.querySelector('.payslip-basic').value = basicMonthly.toLocaleString();
            document.querySelector('.payslip-hra').value = hraMonthly.toLocaleString();
            document.querySelector('.payslip-other-1').value = otherOneMonthly.toLocaleString();
            document.querySelector('.payslip-other-2').value = otherTwoMonthly.toLocaleString();
            document.querySelector('.payslip-pf').value = pfMonthly.toLocaleString();
            document.querySelector('.payslip-pro-tax').value = proTaxMonthly.toLocaleString()
            document.querySelector('.payslip-tds').value = tdsMonthly.toLocaleString();
            document.querySelector('.payslip-total').value = takeHome.toLocaleString();
        }

        function formatInputFieldValues() {
            const inputElements = document.querySelectorAll('input[type="text"]');
            inputElements.forEach((input) => {
                let value = input.value.replace(/\D/g, '');
                if (!isNaN(value) && value !== '') {
                    let formattedValue = Number(value).toLocaleString();
                    input.value = formattedValue;
                } else {
                    input.value = 0;
                }
            });

            calculateTotal();
        }

        document.querySelector(".calculate-button").addEventListener("click", function () {
            let basicSal = Number(document.querySelector('.basic-annual').value.replace(/,/g, ''));

            if (basicSal === 0) {
                window.scrollTo(0, 0);
                alert("Please enter your basic salary.");
            } else {
                calculateTakeHomeSalary();
            }
        });

        class TaxBracket {
            constructor(lowerLimit, upperLimit, rate) {
                this.lowerLimit = lowerLimit;
                this.upperLimit = upperLimit;
                this.rate = rate;
            }
        }

        function calculateTakeHomeSalary() {
            const taxBracketsOld = [
                new TaxBracket(0, 250000, 0.0),
                new TaxBracket(250000, 500000, 0.05),
                new TaxBracket(500000, 1000000, 0.20),
                new TaxBracket(1000000, Infinity, 0.30)
            ];

            const taxBracketsNew = [
                new TaxBracket(0, 300000, 0.0),
                new TaxBracket(300000, 600000, 0.05),
                new TaxBracket(600000, 900000, 0.10),
                new TaxBracket(900000, 1200000, 0.15),
                new TaxBracket(1200000, 1500000, 0.20),
                new TaxBracket(1500000, Infinity, 0.30)
            ];

            hiddenDivs = document.querySelectorAll(".hiddenDiv");

            hiddenDivs.forEach(function (hiddenDiv) {
                hiddenDiv.style.display = "block";
            });

            console.log('******************************************************');
            var totalCtc = Number(document.querySelector('.total-sal-annual').value.replace(/,/g, ''));
            var professionalTax = Number(document.querySelector('.professional-tax').value.replace(/,/g, ''));
            const standardDeduction = 50000;
            const rebateOldRegime = 12500;
            const rebateNewRegime = 25000;
            const cess = 0.04;

            console.log('Total CTC: ' + totalCtc);
            console.log('Professional Tax: ' + professionalTax);
            console.log('Standard Deduction: ' + standardDeduction);
            console.log('Total Rebate on Old Regime: ' + rebateOldRegime);
            console.log('Total Rebate on New Regime: ' + rebateNewRegime);
            console.log('Health & Education Cess: ' + cess * 100 + "%");

            var totalSalaryNew = totalCtc - standardDeduction;
            var totalSalary = totalCtc - standardDeduction;

            console.log('Total Taxable Salary as per Old Regime (Before Deductions): ' + totalSalary);
            console.log('Total Taxable Salary as per New Regime: ' + totalSalaryNew);
            console.log('******************************************************');

            //Calculate Deductions for Old Regime
            var city = document.getElementsByName('metro-city');
            var basicSal = Number(document.querySelector('.basic-annual').value.replace(/,/g, ''));
            var hraRecieved = Number(document.querySelector('.hra-annual').value.replace(/,/g, ''));
            var rentPaid = Number(document.querySelector('.rent').value.replace(/,/g, ''));
            var metroCity = "";
            for (const radio of city) {
                if (radio.checked) {
                    metroCity = radio.value.toLowerCase();
                    break;
                }
            }

            var hraExemption;

            if (hraRecieved === 0 || rentPaid === 0) {
                hraExemption = 0;
                console.log('No HRA recieved or No rent paid. So, HRA exemption is 0.');
            }
            else {
                var val1 = (rentPaid * 12) - (basicSal * 0.1);
                var val2 = metroCity === "no" ? (basicSal * 0.4) : (basicSal * 0.5);
                var exemption = Math.min(val1, val2, hraRecieved);
                hraExemption = exemption > 0 ? exemption : 0;
            }

            document.querySelector('.hra-exemption').value = parseFloat(hraExemption).toLocaleString();
            console.log('HRA Deduction: ' + hraExemption);
            totalSalary = totalSalary - hraExemption;

            var pf = Number(document.querySelector('.epf').value.replace(/,/g, ''));
            var ppf = Number(document.querySelector('.ppf').value.replace(/,/g, ''));
            var nps = Number(document.querySelector('.nps').value.replace(/,/g, ''));
            var elss = Number(document.querySelector('.elss').value.replace(/,/g, ''));
            var lifeInsurancePremium = Number(document.querySelector('.life-insurance-premium').value.replace(/,/g, ''));
            var homeLoanPrincipal = Number(document.querySelector('.home-loan-principal').value.replace(/,/g, ''));

            var eightyC = ppf + nps + elss + lifeInsurancePremium + pf + homeLoanPrincipal;
            eightyC = Math.min(eightyC, 150000);

            console.log('80C Deduction: ' + eightyC);

            totalSalary = totalSalary - eightyC;

            var helathInsurancePremiumForSelf = Math.min(Number(document.querySelector('.health-prem-self').value.replace(/,/g, '')), 25000);
            var helathInsurancePremiumForParents = Math.min(Number(document.querySelector('.health-prem-parents').value.replace(/,/g, '')), 25000);
            var eightyD = helathInsurancePremiumForSelf + helathInsurancePremiumForParents;

            console.log('80D Deduction: ' + eightyD);

            totalSalary = totalSalary - eightyD;

            var homeLoanIntestestPayment = Math.min(Number(document.querySelector('.home-loan-interest').value.replace(/,/g, '')), 200000);

            console.log('Section 24 Deduction (Home Loan Interest Repayment): ' + homeLoanIntestestPayment);

            totalSalary = totalSalary - homeLoanIntestestPayment;

            var homeLoanIntestestPaymentAdditional = Math.min(Number(document.querySelector('.home-loan-interest-additional').value.replace(/,/g, '')), 150000);

            console.log('80EEA Deduction (Home Loan Interest Repayment): ' + homeLoanIntestestPaymentAdditional);

            totalSalary = totalSalary - homeLoanIntestestPaymentAdditional;

            var homeLoanIntestestPaymentAdditionall = Math.min(Number(document.querySelector('.home-loan-interest-additionall').value.replace(/,/g, '')), 150000);

            console.log('80EE Deduction (Home Loan Interest Repayment): ' + homeLoanIntestestPaymentAdditionall);

            totalSalary = totalSalary - homeLoanIntestestPaymentAdditionall;

            var npsSelfContribution = Math.min(Number(document.querySelector('.nps-self').value.replace(/,/g, '')), 50000);

            console.log('80CCD(1B) (Self Contribution to NPS): ' + npsSelfContribution);

            totalSalary = totalSalary - npsSelfContribution;

            var employment = document.getElementsByName('govt-employee');
            var govtEmployee = "";
            for (const radio of employment) {
                if (radio.checked) {
                    govtEmployee = radio.value.toLowerCase();
                    break;
                }
            }

            var npsMaxEmployerContribution = govtEmployee === "no" ? (basicSal * 0.10) : (basicSal * 0.14);
            var npsEmployerContribution = Math.min(Number(document.querySelector('.nps-employer').value.replace(/,/g, '')), npsMaxEmployerContribution);

            console.log('80CCD(2) (Employer Contribution to NPS): ' + npsEmployerContribution);

            totalSalary = totalSalary - npsEmployerContribution;

            var eightyE = Number(document.querySelector('.education-loan').value.replace(/,/g, ''));

            console.log('80E (Education Loan Interest Payment): ' + eightyE);

            totalSalary = totalSalary - eightyE;

            var eightyG = Number(document.querySelector('.donations').value.replace(/,/g, ''));

            console.log('80G (Donations to Charity): ' + eightyG);

            totalSalary = totalSalary - eightyG;

            console.log('Total Taxable Salary as per Old Regime (After Deductions): ' + totalSalary);
            console.log('******************************************************');

            let taxPerOldRegime = 0.0;
            let taxPerNewRegime = 0.0;

            for (let bracket of taxBracketsOld) {
                if (totalSalary > bracket.lowerLimit) {
                    let taxableIncome = Math.min(totalSalary, bracket.upperLimit) - bracket.lowerLimit;
                    taxPerOldRegime += taxableIncome * bracket.rate;
                } else {
                    break;
                }
            }

            for (let bracket of taxBracketsNew) {
                if (totalSalaryNew > bracket.lowerLimit) {
                    let taxableIncome = Math.min(totalSalaryNew, bracket.upperLimit) - bracket.lowerLimit;
                    taxPerNewRegime += taxableIncome * bracket.rate;
                } else {
                    break;
                }
            }
            taxPerOldRegime = Math.round(taxPerOldRegime);
            taxPerNewRegime = Math.round(taxPerNewRegime);

            let cessOld = Math.round(taxPerOldRegime * cess);
            let totalTaxOld = taxPerOldRegime + cessOld;
            let noTaxOld = false;

            if (rebateOldRegime >= taxPerOldRegime) {
                noTaxOld = true;
            }

            let cessNew = Math.round(taxPerNewRegime * cess);
            let totalTaxNew = taxPerNewRegime + cessNew;
            let noTaxNew = false;

            if (rebateNewRegime >= taxPerNewRegime) {
                noTaxNew = true;
            }

            var monthlySalaryOld = Math.round(totalCtc / 12);
            console.log('Salary Per Month as per Old regime: ' + monthlySalaryOld);

            var monthlySalaryNew = Math.round(totalCtc / 12);
            console.log('Salary Per Month as per New regime: ' + monthlySalaryNew);

            var monthlyPf = Math.round(Number(document.querySelector('.epf').value.replace(/,/g, '')) / 12);
            console.log('PF Per Month: ' + monthlyPf);

            console.log('TDS as per Old regime: ' + taxPerOldRegime);
            console.log('Health & Education Cess as per Old regime: ' + cessOld);
            console.log('TDS as per New regime: ' + taxPerNewRegime);
            console.log('Health & Education Cess as per New regime: ' + cessNew);
            document.querySelector('.tax-old-regime-annual').value = parseFloat(totalTaxOld).toLocaleString();
            document.querySelector('.tax-new-regime-annual').value = parseFloat(totalTaxNew).toLocaleString();

            var monthlyTdsOld = Math.round(totalTaxOld === 0 ? 0 : (totalTaxOld / 12));
            var monthlyTdsNew = Math.round(totalTaxNew === 0 ? 0 : (totalTaxNew / 12));

            console.log('TDS Per Month as per Old regime: ' + monthlyTdsOld);
            console.log('TDS Per Month as per New regime: ' + monthlyTdsNew);
            document.querySelector('.tax-old-regime-monthly').value = parseFloat(monthlyTdsOld).toLocaleString();
            document.querySelector('.tax-new-regime-monthly').value = parseFloat(monthlyTdsNew).toLocaleString();

            var takeHomeOld = monthlySalaryOld - monthlyPf - monthlyTdsOld - Math.round(professionalTax / 12);
            var takeHomeNew = monthlySalaryNew - monthlyPf - monthlyTdsNew - Math.round(professionalTax / 12);
            console.log('Monthly Take Home Salary as per Old regime: ' + takeHomeOld);
            console.log('Monthly Take Home Salary as per New regime: ' + takeHomeNew);

            var takeHomeAnnualOld = takeHomeOld * 12;
            var takeHomeAnnualNew = takeHomeNew * 12;
            console.log('Annual Take Home Salary as per Old regime: ' + takeHomeAnnualOld);
            console.log('Annual Take Home Salary as per New regime: ' + takeHomeAnnualNew);

            document.querySelector('.take-home-old-regime-annual').value = parseFloat(takeHomeAnnualOld).toLocaleString();
            document.querySelector('.take-home-old-regime-monthly').value = parseFloat(takeHomeOld).toLocaleString();

            document.querySelector('.take-home-new-regime-annual').value = parseFloat(takeHomeAnnualNew).toLocaleString();
            document.querySelector('.take-home-new-regime-monthly').value = parseFloat(takeHomeNew).toLocaleString();

            var suggestion = "";
            if (noTaxOld && noTaxNew) {
                suggestion = "You can go for ANY TAX REGIME... There is NO TAX difference in both the regimes...";
            } else if (totalTaxNew > totalTaxOld) {
                suggestion = "You should opt for OLD TAX REGIME as it will save you ₹" + (totalTaxNew - totalTaxOld).toLocaleString() + " rupees.";
            } else {
                suggestion = "You should opt for NEW TAX REGIME as it will save you ₹" + (totalTaxOld - totalTaxNew).toLocaleString() + " rupees.";
            }

            document.querySelector('.suggestion').innerHTML = suggestion + '<br>Cheers... Below is a possible version of your monthly payslip!';
            console.log('******************************************************');


            createPayslip(Number(document.querySelector('.basic-monthly').value.replace(/,/g, '')),
                Number(document.querySelector('.hra-monthly').value.replace(/,/g, '')),
                Number(document.querySelector('.other-allowances-1-monthly').value.replace(/,/g, '')),
                Number(document.querySelector('.other-allowances-2-monthly').value.replace(/,/g, '')),
                monthlyPf,
                Math.round(professionalTax / 12),
                monthlyTdsOld >= monthlyTdsNew ? monthlyTdsNew : monthlyTdsOld,
                monthlyTdsOld >= monthlyTdsNew ? takeHomeNew : takeHomeOld);

            var suggestionBlock = document.querySelector('.calculations');
            var elementPosition = suggestionBlock.getBoundingClientRect().top + window.scrollY;
            var offsetPosition = elementPosition - 30;
            window.scrollTo({
                top: offsetPosition,
                behavior: 'smooth'
            });
        }

        function validateNumericInput(input) {
            let value = input.value.replace(/\D/g, '');
            let formattedValue = Number(value).toLocaleString();
            input.value = formattedValue;
        }

        function updateBasicValues(className) {
            var input = document.querySelector('.' + className).value.replace(/,/g, '');
            var classRecieved = className;
            var classNeedToBeUpdated;
            if (className.includes('annual')) {
                classNeedToBeUpdated = classRecieved.replace('annual', 'monthly');
                var monthlyValue = Math.round(input / 12);
                var formattedValue = Number(monthlyValue).toLocaleString();
                document.querySelector('.' + classNeedToBeUpdated).value = formattedValue;
            }
            else {
                classNeedToBeUpdated = classRecieved.replace('monthly', 'annual');
                var annualValue = Math.round(input * 12);
                var formattedValue = Number(annualValue).toLocaleString();
                document.querySelector('.' + classNeedToBeUpdated).value = formattedValue;
            }
        }

        function calculateTotal() {
            // var classes = ['basic', 'hra', 'other-allowances', 'insurance', 'gratuity', 'variable', 'employer-pf'];
            var classes = ['basic', 'hra', 'other-allowances-1', 'other-allowances-2'];
            var total = 0;

            classes.forEach(function (className) {
                var elements = document.getElementsByClassName(className + '-annual');

                for (var i = 0; i < elements.length; i++) {
                    var value = elements[i].value.replace(/,/g, '');

                    if (value.trim() !== '') {
                        total = Number(total) + Number(value);
                    }
                }
            });

            var totalSalInput = document.getElementsByClassName('total-sal-annual')[0];
            var totalSalMonthlyInput = document.getElementsByClassName('total-sal-monthly')[0];
            var totalSal = Math.round(total);
            var totalSalMonthly = Math.round(total / 12);
            totalSalInput.value = Number(totalSal).toLocaleString();
            totalSalMonthlyInput.value = Number(totalSalMonthly).toLocaleString();
        }

        window.addEventListener('load', function () {
            formatInputFieldValues();
            window.scrollTo(0, 0);
        });

        function attachEventListeners() {
            var inputs = document.getElementsByTagName('input');

            for (var i = 0; i < inputs.length; i++) {
                inputs[i].addEventListener('input', calculateTotal);
            }
        }

        attachEventListeners();
    </script>
</body>

</html>